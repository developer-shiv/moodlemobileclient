{"version":3,"sources":["./src/addons/competency/pages/competencies/competencies.html","./src/addons/competency/pages/competency/competency.html","./src/addons/competency/pages/competencysummary/competencysummary.html","./src/addons/competency/pages/plan/plan.html","./src/addons/competency/pages/planlist/planlist.html","./src/addons/competency/competency-lazy.module.ts","./src/addons/competency/pages/competencies/competencies.ts","./src/addons/competency/pages/competency/competency.ts","./src/addons/competency/pages/competencysummary/competencysummary.ts","./src/addons/competency/pages/plan/plan.ts","./src/addons/competency/pages/planlist/planlist.ts"],"names":[],"mappings":"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","file":"competency-lazy-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1>{{ title }}</h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <core-split-view>\\r\\n        <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!competencies.loaded\\\" (ionRefresh)=\\\"refreshCompetencies($event.target)\\\">\\r\\n            <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n        </ion-refresher>\\r\\n        <core-loading [hideUntil]=\\\"competencies.loaded\\\">\\r\\n            <ion-list>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let competency of competencies.items\\\"\\r\\n                    [attr.aria-label]=\\\"competency.competency.shortname\\\" (click)=\\\"competencies.select(competency)\\\"\\r\\n                    [attr.aria-current]=\\\"competencies.getItemAriaCurrent(competency)\\\" button detail=\\\"true\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ competency.competency.shortname }} <em>{{competency.competency.idnumber}}</em></p>\\r\\n                    </ion-label>\\r\\n                    <ion-badge slot=\\\"end\\\" *ngIf=\\\"competency.usercompetency\\\"\\r\\n                        [color]=\\\"competency.usercompetency.proficiency ? 'success' : 'danger'\\\">\\r\\n                        {{ competency.usercompetency.gradename }}\\r\\n                    </ion-badge>\\r\\n                    <ion-badge slot=\\\"end\\\" *ngIf=\\\"competency.usercompetencycourse\\\"\\r\\n                        [color]=\\\"competency.usercompetencycourse.proficiency ? 'success' : 'danger'\\\">\\r\\n                        {{ competency.usercompetencycourse.gradename }}\\r\\n                    </ion-badge>\\r\\n                </ion-item>\\r\\n            </ion-list>\\r\\n        </core-loading>\\r\\n    </core-split-view>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1 *ngIf=\\\"competency\\\">\\r\\n            {{ competency.competency.competency.shortname }} <small>{{ competency.competency.competency.idnumber }}</small>\\r\\n        </h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!competencyLoaded\\\" (ionRefresh)=\\\"refreshCompetency($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"competencyLoaded\\\">\\r\\n        <ion-card *ngIf=\\\"user\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <core-user-avatar [user]=\\\"user\\\" slot=\\\"start\\\"></core-user-avatar>\\r\\n                <ion-label><h2>{{ user.fullname }}</h2></ion-label>\\r\\n            </ion-item>\\r\\n        </ion-card>\\r\\n\\r\\n        <ion-card *ngIf=\\\"competency\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"competency.competency.competency.description\\\">\\r\\n                <ion-label>\\r\\n                    <core-format-text [text]=\\\"competency.competency.competency.description\\\" [contextLevel]=\\\"contextLevel\\\"\\r\\n                        [contextInstanceId]=\\\"contextInstanceId\\\">\\r\\n                    </core-format-text>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"ion-text-wrap only-links\\\">\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading\\\">{{ 'addon.competency.path' | translate }}</p>\\r\\n                    <p>\\r\\n                        <a *ngIf=\\\"competency.competency.comppath.showlinks\\\"\\r\\n                            [href]=\\\"competency.competency.comppath.pluginbaseurl + '/competencies.php?competencyframeworkid=' +\\r\\n                            competency.competency.comppath.framework.id + '&pagecontextid=' +\\r\\n                            competency.competency.comppath.pagecontextid\\\"\\r\\n                            core-link>\\r\\n                            {{ competency.competency.comppath.framework.name }}\\r\\n                        </a>\\r\\n                        <ng-container *ngIf=\\\"!competency.competency.comppath.showlinks\\\">\\r\\n                            {{ competency.competency.comppath.framework.name }}\\r\\n                        </ng-container>\\r\\n                        &nbsp;/&nbsp;\\r\\n                        <ng-container *ngFor=\\\"let ancestor of competency.competency.comppath.ancestors\\\">\\r\\n                            <button *ngIf=\\\"competency.competency.comppath.showlinks\\\" (click)=\\\"openCompetencySummary(ancestor.id)\\\"\\r\\n                                class=\\\"as-link\\\">\\r\\n                                {{ ancestor.name }}\\r\\n                            </button>\\r\\n                            <ng-container *ngIf=\\\"!competency.competency.comppath.showlinks\\\">{{ ancestor.name }}</ng-container>\\r\\n                            <ng-container *ngIf=\\\"!ancestor.last\\\">&nbsp;/&nbsp;</ng-container>\\r\\n                        </ng-container>\\r\\n                    </p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading\\\">{{ 'addon.competency.crossreferencedcompetencies' | translate }}</p>\\r\\n                    <p *ngIf=\\\"!competency.competency.hasrelatedcompetencies\\\">\\r\\n                        {{ 'addon.competency.nocrossreferencedcompetencies' | translate }}\\r\\n                    </p>\\r\\n                    <ng-container *ngIf=\\\"competency.competency.hasrelatedcompetencies\\\">\\r\\n                        <p *ngFor=\\\"let relatedcomp of competency.competency.relatedcompetencies\\\">\\r\\n                            <button (click)=\\\"openCompetencySummary(relatedcomp.id)\\\" class=\\\"as-link\\\">\\r\\n                                {{ relatedcomp.shortname }} - {{ relatedcomp.idnumber }}\\r\\n                            </button>\\r\\n                        </p>\\r\\n                    </ng-container>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"coursemodules\\\">\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading\\\">{{ 'addon.competency.activities' | translate }}</p>\\r\\n                    <p *ngIf=\\\"coursemodules.length == 0\\\">\\r\\n                        {{ 'addon.competency.noactivities' | translate }}\\r\\n                    </p>\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let activity of coursemodules\\\" [href]=\\\"activity.url\\\"\\r\\n                        [attr.aria-label]=\\\"activity.name\\\" core-link capture=\\\"true\\\">\\r\\n                        <img slot=\\\"start\\\" core-external-content [src]=\\\"activity.iconurl\\\" alt=\\\"\\\" *ngIf=\\\"activity.iconurl\\\"\\r\\n                            class=\\\"core-module-icon\\\">\\r\\n                        <ion-label>\\r\\n                            <core-format-text [text]=\\\"activity.name\\\" contextLevel=\\\"module\\\" [contextInstanceId]=\\\"activity.id\\\"\\r\\n                                [courseId]=\\\"courseId\\\">\\r\\n                            </core-format-text>\\r\\n                        </ion-label>\\r\\n                    </ion-item>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ng-container *ngIf=\\\"userCompetency\\\">\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"competency.usercompetency && competency.usercompetency!.status\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ 'addon.competency.reviewstatus' | translate }}</p>\\r\\n                        <p>{{ competency.usercompetency!.statusname }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ 'addon.competency.proficient' | translate }}</p>\\r\\n                    </ion-label>\\r\\n                    <ion-badge slot=\\\"end\\\" color=\\\"success\\\" *ngIf=\\\"userCompetency.proficiency\\\">\\r\\n                        {{ 'core.yes' | translate }}\\r\\n                    </ion-badge>\\r\\n                    <ion-badge slot=\\\"end\\\" color=\\\"danger\\\" *ngIf=\\\"!userCompetency.proficiency\\\">\\r\\n                        {{ 'core.no' | translate }}\\r\\n                    </ion-badge>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ 'addon.competency.rating' | translate }}</p>\\r\\n                    </ion-label>\\r\\n                    <ion-badge color=\\\"dark\\\" slot=\\\"end\\\">{{ userCompetency.gradename }}</ion-badge>\\r\\n                </ion-item>\\r\\n            </ng-container>\\r\\n        </ion-card>\\r\\n\\r\\n        <div *ngIf=\\\"competency\\\">\\r\\n            <h3 class=\\\"ion-margin-horizontal\\\">{{ 'addon.competency.evidence' | translate }}</h3>\\r\\n            <p class=\\\"ion-margin-horizontal\\\" *ngIf=\\\"competency.evidence.length == 0\\\">\\r\\n                {{ 'addon.competency.noevidence' | translate }}\\r\\n            </p>\\r\\n            <ion-card *ngFor=\\\"let evidence of competency.evidence\\\">\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"evidence.actionuser\\\" core-user-link [userId]=\\\"evidence.actionuser.id\\\"\\r\\n                    [courseId]=\\\"courseId\\\">\\r\\n                    <core-user-avatar [user]=\\\"evidence.actionuser\\\" slot=\\\"start\\\"></core-user-avatar>\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ evidence.actionuser.fullname }}</p>\\r\\n                        <p>{{ evidence.timemodified * 1000 | coreFormatDate }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>\\r\\n                        <p><ion-badge color=\\\"dark\\\">{{ evidence.gradename }}</ion-badge></p>\\r\\n                        <p class=\\\"ion-margin-top\\\" *ngIf=\\\"evidence.description\\\">{{ evidence.description }}</p>\\r\\n                        <blockquote *ngIf=\\\"evidence.note\\\">{{ evidence.note }}</blockquote>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ion-card>\\r\\n        </div>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1 *ngIf=\\\"competency\\\">\\r\\n            {{ competency.competency.shortname }} <small>{{ competency.competency.idnumber }}</small>\\r\\n        </h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!competencyLoaded\\\" (ionRefresh)=\\\"refreshCompetency($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"competencyLoaded\\\">\\r\\n        <ion-card *ngIf=\\\"competency\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"competency.competency.description\\\">\\r\\n                <ion-label>\\r\\n                    <core-format-text [text]=\\\"competency.competency.description\\\" [contextLevel]=\\\"contextLevel\\\"\\r\\n                        [contextInstanceId]=\\\"contextInstanceId\\\">\\r\\n                    </core-format-text>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <p class=\\\"item-heading\\\">{{ 'addon.competency.path' | translate }}</p>\\r\\n                    <p>{{ competency.comppath.framework.name }}\\r\\n                        <ng-container *ngFor=\\\"let ancestor of competency.comppath.ancestors\\\">\\r\\n                            &nbsp;/&nbsp;\\r\\n                            <button class=\\\"as-link\\\" (click)=\\\"openCompetencySummary(ancestor.id)\\\">\\r\\n                                {{ ancestor.name }}\\r\\n                            </button>\\r\\n                        </ng-container>\\r\\n                    </p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n        </ion-card>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1 *ngIf=\\\"plan\\\">{{plan.plan.name}}</h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!loaded\\\" (ionRefresh)=\\\"refreshLearningPlan($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"loaded\\\">\\r\\n        <ion-card *ngIf=\\\"user\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <core-user-avatar [user]=\\\"user\\\" slot=\\\"start\\\"></core-user-avatar>\\r\\n                    <h2>{{ user.fullname }}</h2>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n       </ion-card>\\r\\n        <ion-card *ngIf=\\\"plan\\\">\\r\\n            <ion-list>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"plan.plan.description\\\" lines=\\\"none\\\">\\r\\n                    <ion-label>\\r\\n                        <p>\\r\\n                            <core-format-text [text]=\\\"plan.plan.description\\\" contextLevel=\\\"user\\\"\\r\\n                                [contextInstanceId]=\\\"plan.plan.userid\\\">\\r\\n                            </core-format-text>\\r\\n                        </p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" lines=\\\"none\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ 'addon.competency.status' | translate }}</p>\\r\\n                        <p>{{ plan.plan.statusname }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"plan.plan.duedate > 0\\\" lines=\\\"none\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ 'addon.competency.duedate' | translate }}</p>\\r\\n                        <p>{{ plan.plan.duedate * 1000 | coreFormatDate }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"plan.plan.template\\\" lines=\\\"none\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ 'addon.competency.template' | translate }}</p>\\r\\n                        <p>{{ plan.plan.template.shortname }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" lines=\\\"none\\\">\\r\\n                    <ion-label id=\\\"addon-competency-plan-{{plan.plan.id}}-progress\\\">\\r\\n                        <p class=\\\"item-heading\\\">{{ 'addon.competency.progress' | translate }}</p>\\r\\n                        <p>\\r\\n                            {{ 'addon.competency.xcompetenciesproficientoutofy' | translate:\\r\\n                                {$a: {x: plan.proficientcompetencycount, y: plan.competencycount} } }}\\r\\n                        </p>\\r\\n                        <core-progress-bar [progress]=\\\"plan.proficientcompetencypercentage\\\"\\r\\n                            [text]=\\\"plan.proficientcompetencypercentageformatted\\\"\\r\\n                            ariaDescribedBy=\\\"addon-competency-plan-{{plan.plan.id}}-progress\\\">\\r\\n                        </core-progress-bar>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ion-list>\\r\\n        </ion-card>\\r\\n        <ion-card *ngIf=\\\"plan\\\">\\r\\n            <ion-card-header class=\\\"ion-text-wrap\\\">\\r\\n                <ion-card-title>{{ 'addon.competency.learningplancompetencies' | translate }}</ion-card-title>\\r\\n            </ion-card-header>\\r\\n            <ion-list>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"plan.competencycount == 0\\\">\\r\\n                    <ion-label>\\r\\n                        <p>{{ 'addon.competency.nocompetencies' | translate }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let competency of plan.competencies\\\"\\r\\n                    (click)=\\\"openCompetency(competency.competency.id)\\\"\\r\\n                    [attr.aria-label]=\\\"competency.competency.shortname\\\" detail=\\\"true\\\" button>\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{competency.competency.shortname}} <em>{{competency.competency.idnumber}}</em></p>\\r\\n                    </ion-label>\\r\\n                    <ion-badge *ngIf=\\\"competency.usercompetencyplan\\\" slot=\\\"end\\\"\\r\\n                        [color]=\\\"competency.usercompetencyplan.proficiency ? 'success' : 'danger'\\\">\\r\\n                            {{ competency.usercompetencyplan.gradename }}\\r\\n                        </ion-badge>\\r\\n                    <ion-badge *ngIf=\\\"!competency.usercompetencyplan\\\" slot=\\\"end\\\"\\r\\n                        [color]=\\\"competency.usercompetency.proficiency ? 'success' : 'danger'\\\">\\r\\n                        {{ competency.usercompetency.gradename }}\\r\\n                    </ion-badge>\\r\\n                </ion-item>\\r\\n            </ion-list>\\r\\n        </ion-card>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1>{{ 'addon.competency.userplans' | translate }}</h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <core-split-view>\\r\\n        <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!plans.loaded\\\" (ionRefresh)=\\\"refreshLearningPlans($event.target)\\\">\\r\\n            <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n        </ion-refresher>\\r\\n        <core-loading [hideUntil]=\\\"plans.loaded\\\">\\r\\n            <core-empty-box *ngIf=\\\"plans.empty\\\" icon=\\\"fas-route\\\" [message]=\\\"'addon.competency.noplanswerecreated' | translate\\\">\\r\\n\\r\\n            </core-empty-box>\\r\\n            <ion-list *ngIf=\\\"!plans.empty\\\" class=\\\"ion-no-margin\\\">\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let plan of plans.items\\\" [attr.aria-label]=\\\"plan.name\\\"\\r\\n                    (click)=\\\"plans.select(plan)\\\" [attr.aria-current]=\\\"plans.getItemAriaCurrent(plan)\\\" button detail=\\\"true\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ plan.name }}</p>\\r\\n                        <p *ngIf=\\\"plan.duedate > 0\\\">\\r\\n                            {{ 'addon.competency.duedate' | translate }}:&nbsp;\\r\\n                            {{ plan.duedate * 1000 | coreFormatDate :'strftimedatetimeshort' }}\\r\\n                        </p>\\r\\n                    </ion-label>\\r\\n                    <ion-badge slot=\\\"end\\\" class=\\\"ion-text-wrap\\\" [color]=\\\"plan.statuscolor\\\">{{ plan.statusname }}</ion-badge>\\r\\n                </ion-item>\\r\\n            </ion-list>\\r\\n        </core-loading>\\r\\n    </core-split-view>\\r\\n    </ion-content>\\r\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { conditionalRoutes } from '@/app/app-routing.module';\r\nimport { CoreScreen } from '@services/screen';\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\nimport { AddonCompetencyPlanPage } from './pages/plan/plan';\r\nimport { AddonCompetencyPlanListPage } from './pages/planlist/planlist';\r\nimport { AddonCompetencyCompetenciesPage } from './pages/competencies/competencies';\r\nimport { AddonCompetencyCompetencyPage } from './pages/competency/competency';\r\nimport { AddonCompetencyCompetencySummaryPage } from './pages/competencysummary/competencysummary';\r\nimport { AddonCompetencyCourseCompetenciesPage } from './pages/coursecompetencies/coursecompetencies.page';\r\nimport { AddonCompetencyCourseCompetenciesPageModule } from './pages/coursecompetencies/coursecompetencies.module';\r\nimport { AddonCompetencyMainMenuHandlerService } from './services/handlers/mainmenu';\r\n\r\nconst mobileRoutes: Routes = [\r\n    {\r\n        path: '',\r\n        pathMatch: 'full',\r\n        data: {\r\n            mainMenuTabRoot: AddonCompetencyMainMenuHandlerService.PAGE_NAME,\r\n        },\r\n        component: AddonCompetencyPlanListPage,\r\n    },\r\n    {\r\n        path: 'competencies',\r\n        component: AddonCompetencyCompetenciesPage,\r\n    },\r\n    {\r\n        path: 'competencies/:competencyId',\r\n        component: AddonCompetencyCompetencyPage,\r\n    },\r\n    {\r\n        path: 'course/:courseId',\r\n        component: AddonCompetencyCourseCompetenciesPage,\r\n    },\r\n    {\r\n        path: 'summary/:competencyId',\r\n        component: AddonCompetencyCompetencySummaryPage,\r\n    },\r\n    {\r\n        path: ':planId',\r\n        component: AddonCompetencyPlanPage,\r\n    },\r\n];\r\n\r\nconst tabletRoutes: Routes = [\r\n    {\r\n        path: 'summary/:competencyId',\r\n        component: AddonCompetencyCompetencySummaryPage,\r\n    },\r\n    {\r\n        path: 'competencies',\r\n        component: AddonCompetencyCompetenciesPage,\r\n        children: [\r\n            {\r\n                path: ':competencyId',\r\n                component: AddonCompetencyCompetencyPage,\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        path: 'course/:courseId',\r\n        component: AddonCompetencyCourseCompetenciesPage,\r\n    },\r\n    {\r\n        path: '',\r\n        data: {\r\n            mainMenuTabRoot: AddonCompetencyMainMenuHandlerService.PAGE_NAME,\r\n        },\r\n        component: AddonCompetencyPlanListPage,\r\n        children: [\r\n            {\r\n                path: ':planId',\r\n                component: AddonCompetencyPlanPage,\r\n            },\r\n\r\n        ],\r\n    },\r\n];\r\n\r\nconst routes: Routes = [\r\n    ...conditionalRoutes(mobileRoutes, () => CoreScreen.isMobile),\r\n    ...conditionalRoutes(tabletRoutes, () => CoreScreen.isTablet),\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n        AddonCompetencyCourseCompetenciesPageModule,\r\n    ],\r\n    declarations: [\r\n        AddonCompetencyPlanPage,\r\n        AddonCompetencyPlanListPage,\r\n        AddonCompetencyCompetenciesPage,\r\n        AddonCompetencyCompetencyPage,\r\n        AddonCompetencyCompetencySummaryPage,\r\n    ],\r\n})\r\nexport class AddonCompetencyLazyModule {}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { AfterViewInit, Component, OnDestroy, ViewChild } from '@angular/core';\r\nimport { IonRefresher } from '@ionic/angular';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\nimport { CoreSplitViewComponent } from '@components/split-view/split-view';\r\nimport {\r\n    AddonCompetencyDataForPlanPageCompetency, AddonCompetencyDataForCourseCompetenciesPageCompetency, AddonCompetency,\r\n} from '../../services/competency';\r\nimport { Params, ActivatedRoute } from '@angular/router';\r\nimport { CorePageItemsListManager } from '@classes/page-items-list-manager';\r\nimport { Translate } from '@singletons';\r\nimport { CoreNavigator } from '@services/navigator';\r\nimport { CoreError } from '@classes/errors/error';\r\n\r\n/**\r\n * Page that displays the list of competencies of a learning plan.\r\n */\r\n@Component({\r\n    selector: 'page-addon-competency-competencies',\r\n    templateUrl: 'competencies.html',\r\n})\r\nexport class AddonCompetencyCompetenciesPage implements AfterViewInit, OnDestroy {\r\n\r\n    @ViewChild(CoreSplitViewComponent) splitView!: CoreSplitViewComponent;\r\n\r\n    protected planId?: number;\r\n    protected courseId?: number;\r\n    protected userId?: number;\r\n\r\n    competenciesLoaded = false;\r\n    competencies: AddonCompetencyListManager;\r\n    title = '';\r\n\r\n    constructor(protected route: ActivatedRoute) {\r\n        this.planId = CoreNavigator.getRouteNumberParam('planId', { route });\r\n        if (!this.planId) {\r\n            this.courseId = CoreNavigator.getRouteNumberParam('courseId', { route });\r\n            this.userId = CoreNavigator.getRouteNumberParam('userId', { route });\r\n        }\r\n\r\n        this.competencies =\r\n            new AddonCompetencyListManager(AddonCompetencyCompetenciesPage, this.planId, this.courseId, this.userId);\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    async ngAfterViewInit(): Promise<void> {\r\n        await this.fetchCompetencies();\r\n\r\n        this.competencies.start(this.splitView);\r\n    }\r\n\r\n    /**\r\n     * Fetches the competencies and updates the view.\r\n     *\r\n     * @return Promise resolved when done.\r\n     */\r\n    protected async fetchCompetencies(): Promise<void> {\r\n        try {\r\n            if (this.planId) {\r\n\r\n                const response = await AddonCompetency.getLearningPlan(this.planId);\r\n\r\n                if (response.competencycount <= 0) {\r\n                    throw new CoreError(Translate.instant('addon.competency.errornocompetenciesfound'));\r\n                }\r\n\r\n                this.title = response.plan.name;\r\n                this.userId = response.plan.userid;\r\n\r\n                this.competencies.setItems(response.competencies);\r\n            } else if (this.courseId) {\r\n                const response = await AddonCompetency.getCourseCompetencies(this.courseId, this.userId);\r\n                this.title = Translate.instant('addon.competency.coursecompetencies');\r\n\r\n                this.competencies.setItems(response.competencies);\r\n            } else {\r\n                throw null;\r\n            }\r\n        } catch (error) {\r\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting competencies data.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refreshes the competencies.\r\n     *\r\n     * @param refresher Refresher.\r\n     */\r\n    async refreshCompetencies(refresher?: IonRefresher): Promise<void> {\r\n        try {\r\n            if (this.planId) {\r\n                await AddonCompetency.invalidateLearningPlan(this.planId);\r\n            } else {\r\n                await AddonCompetency.invalidateCourseCompetencies(this.courseId!, this.userId);\r\n            }\r\n\r\n        } finally {\r\n            this.fetchCompetencies().finally(() => {\r\n                refresher?.complete();\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    ngOnDestroy(): void {\r\n        this.competencies.destroy();\r\n    }\r\n\r\n}\r\n\r\ntype AddonCompetencyDataForPlanPageCompetencyFormatted =\r\n    AddonCompetencyDataForPlanPageCompetency | AddonCompetencyDataForCourseCompetenciesPageCompetency;\r\n\r\n/**\r\n * Helper class to manage competencies list.\r\n */\r\nclass AddonCompetencyListManager extends CorePageItemsListManager<AddonCompetencyDataForPlanPageCompetencyFormatted> {\r\n\r\n    planId?: number;\r\n    courseId?: number;\r\n    userId?: number;\r\n\r\n    constructor(pageComponent: unknown, planId?: number, courseId?: number, userId?: number) {\r\n        super(pageComponent);\r\n        this.planId = planId;\r\n        this.courseId = courseId;\r\n        this.userId = userId;\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    protected getItemPath(competency: AddonCompetencyDataForPlanPageCompetencyFormatted): string {\r\n        return String(competency.competency.id);\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    protected getItemQueryParams(): Params {\r\n        if (this.planId) {\r\n            return { planId: this.planId };\r\n        } else {\r\n            return { courseId: this.courseId, userId: this.userId };\r\n        }\r\n    }\r\n\r\n}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { AddonCompetencyHelper } from '@addons/competency/services/competency-helper';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { CoreCourseModuleSummary } from '@features/course/services/course';\r\nimport { CoreUserSummary } from '@features/user/services/user';\r\nimport { CoreSites } from '@services/sites';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\nimport { Translate } from '@singletons';\r\nimport {\r\n    AddonCompetencyDataForUserCompetencySummaryWSResponse,\r\n    AddonCompetencyUserCompetencyPlan,\r\n    AddonCompetencyUserCompetency,\r\n    AddonCompetencyUserCompetencyCourse,\r\n    AddonCompetency,\r\n    AddonCompetencyDataForUserCompetencySummaryInPlanWSResponse,\r\n    AddonCompetencyDataForUserCompetencySummaryInCourseWSResponse,\r\n} from '@addons/competency/services/competency';\r\nimport { CoreNavigator } from '@services/navigator';\r\nimport { IonRefresher } from '@ionic/angular';\r\nimport { ContextLevel } from '@/core/constants';\r\nimport { CoreUtils } from '@services/utils/utils';\r\nimport { AddonCompetencyMainMenuHandlerService } from '@addons/competency/services/handlers/mainmenu';\r\n\r\n/**\r\n * Page that displays the competency information.\r\n */\r\n@Component({\r\n    selector: 'page-addon-competency-competency',\r\n    templateUrl: 'competency.html',\r\n})\r\nexport class AddonCompetencyCompetencyPage implements OnInit {\r\n\r\n    competencyLoaded = false;\r\n    competencyId!: number;\r\n    planId?: number;\r\n    courseId?: number;\r\n    userId?: number;\r\n    planStatus?: number;\r\n    coursemodules?: CoreCourseModuleSummary[];\r\n    user?: CoreUserSummary;\r\n    competency?: AddonCompetencyDataForUserCompetencySummaryWSResponse;\r\n    userCompetency?: AddonCompetencyUserCompetencyPlan | AddonCompetencyUserCompetency | AddonCompetencyUserCompetencyCourse;\r\n    contextLevel?: string;\r\n    contextInstanceId?: number;\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    async ngOnInit(): Promise<void> {\r\n        this.competencyId = CoreNavigator.getRouteNumberParam('competencyId')!;\r\n        this.planId = CoreNavigator.getRouteNumberParam('planId');\r\n        if (!this.planId) {\r\n            this.courseId = CoreNavigator.getRouteNumberParam('courseId')!;\r\n            this.userId = CoreNavigator.getRouteNumberParam('userId');\r\n        }\r\n\r\n        try {\r\n            await this.fetchCompetency();\r\n\r\n            const name = this.competency && this.competency.competency && this.competency.competency.competency &&\r\n                    this.competency.competency.competency.shortname;\r\n\r\n            if (this.planId) {\r\n                CoreUtils.ignoreErrors(AddonCompetency.logCompetencyInPlanView(\r\n                    this.planId,\r\n                    this.competencyId,\r\n                    this.planStatus!,\r\n                    name,\r\n                    this.userId,\r\n                ));\r\n            } else {\r\n                CoreUtils.ignoreErrors(\r\n                    AddonCompetency.logCompetencyInCourseView(this.courseId!, this.competencyId, name, this.userId),\r\n                );\r\n            }\r\n        } finally {\r\n            this.competencyLoaded = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fetches the competency and updates the view.\r\n     *\r\n     * @return Promise resolved when done.\r\n     */\r\n    protected async fetchCompetency(): Promise<void> {\r\n\r\n        try {\r\n            let competency: AddonCompetencyDataForUserCompetencySummaryInPlanWSResponse |\r\n            AddonCompetencyDataForUserCompetencySummaryInCourseWSResponse;\r\n\r\n            if (this.planId) {\r\n                this.planStatus = undefined;\r\n\r\n                competency = await AddonCompetency.getCompetencyInPlan(this.planId, this.competencyId);\r\n            } else if (this.courseId) {\r\n                competency = await AddonCompetency.getCompetencyInCourse(this.courseId, this.competencyId, this.userId);\r\n            } else {\r\n                throw null;\r\n            }\r\n\r\n            // Calculate the context.\r\n            if (this.courseId) {\r\n                this.contextLevel = ContextLevel.COURSE;\r\n                this.contextInstanceId = this.courseId;\r\n            } else {\r\n                this.contextLevel = ContextLevel.USER;\r\n                this.contextInstanceId = this.userId || competency.usercompetencysummary.user.id;\r\n            }\r\n\r\n            this.competency = competency.usercompetencysummary;\r\n            this.userCompetency = this.competency.usercompetencyplan || this.competency.usercompetency;\r\n\r\n            if ('plan' in competency) {\r\n                this.planStatus = competency.plan.status;\r\n                this.competency.usercompetency!.statusname =\r\n                    AddonCompetencyHelper.getCompetencyStatusName(this.competency.usercompetency!.status);\r\n            } else {\r\n                this.userCompetency = this.competency.usercompetencycourse;\r\n                this.coursemodules = competency.coursemodules;\r\n            }\r\n\r\n            if (this.competency.user.id != CoreSites.getCurrentSiteUserId()) {\r\n                // Get the user profile from the returned object.\r\n                this.user = this.competency.user;\r\n            }\r\n\r\n            this.competency.evidence.forEach((evidence) => {\r\n                if (evidence.descidentifier) {\r\n                    const key = 'addon.competency.' + evidence.descidentifier;\r\n                    evidence.description = Translate.instant(key, { $a: evidence.desca });\r\n                }\r\n            });\r\n        } catch (error) {\r\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting competency data.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refreshes the competency.\r\n     *\r\n     * @param refresher Refresher.\r\n     */\r\n    async refreshCompetency(refresher: IonRefresher): Promise<void> {\r\n        try {\r\n            if (this.planId) {\r\n                await AddonCompetency.invalidateCompetencyInPlan(this.planId, this.competencyId);\r\n            } else {\r\n                await AddonCompetency.invalidateCompetencyInCourse(this.courseId!, this.competencyId);\r\n            }\r\n\r\n        } finally {\r\n            this.fetchCompetency().finally(() => {\r\n                refresher?.complete();\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Opens the summary of a competency.\r\n     *\r\n     * @param competencyId\r\n     */\r\n    openCompetencySummary(competencyId: number): void {\r\n        CoreNavigator.navigateToSitePath(\r\n            '/' + AddonCompetencyMainMenuHandlerService.PAGE_NAME + '/summary/' + competencyId,\r\n            {\r\n                params: { contextLevel: this.contextLevel, contextInstanceId: this.contextInstanceId },\r\n            },\r\n        );\r\n    }\r\n\r\n}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ContextLevel } from '@/core/constants';\r\nimport { AddonCompetencySummary, AddonCompetency } from '@addons/competency/services/competency';\r\nimport { IonRefresher } from '@ionic/angular';\r\nimport { CoreNavigator } from '@services/navigator';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\nimport { CoreUtils } from '@services/utils/utils';\r\nimport { AddonCompetencyMainMenuHandlerService } from '@addons/competency/services/handlers/mainmenu';\r\n\r\n/**\r\n * Page that displays the competency summary.\r\n */\r\n@Component({\r\n    selector: 'page-addon-competency-competency-summary',\r\n    templateUrl: 'competencysummary.html',\r\n})\r\nexport class AddonCompetencyCompetencySummaryPage implements OnInit {\r\n\r\n    competencyLoaded = false;\r\n    competencyId!: number;\r\n    competency?: AddonCompetencySummary;\r\n    contextLevel?: ContextLevel;\r\n    contextInstanceId?: number;\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    async ngOnInit(): Promise<void> {\r\n        this.competencyId = CoreNavigator.getRouteNumberParam('competencyId')!;\r\n        this.contextLevel = CoreNavigator.getRouteParam<ContextLevel>('contextLevel');\r\n        this.contextInstanceId = CoreNavigator.getRouteNumberParam('contextInstanceId');\r\n\r\n        try {\r\n            await this.fetchCompetency();\r\n            const name = this.competency!.competency && this.competency!.competency.shortname;\r\n\r\n            CoreUtils.ignoreErrors(AddonCompetency.logCompetencyView(this.competencyId, name));\r\n        } finally {\r\n            this.competencyLoaded = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fetches the competency summary and updates the view.\r\n     *\r\n     * @return Promise resolved when done.\r\n     */\r\n    protected async fetchCompetency(): Promise<void> {\r\n        try {\r\n            const result = await AddonCompetency.getCompetencySummary(this.competencyId);\r\n            if (!this.contextLevel || typeof this.contextInstanceId == 'undefined') {\r\n                // Context not specified, use user context.\r\n                this.contextLevel = ContextLevel.USER;\r\n                this.contextInstanceId = result.usercompetency!.userid;\r\n            }\r\n\r\n            this.competency = result.competency;\r\n        } catch (error) {\r\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting competency summary data.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refreshes the competency summary.\r\n     *\r\n     * @param refresher Refresher.\r\n     */\r\n    refreshCompetency(refresher: IonRefresher): void {\r\n        AddonCompetency.invalidateCompetencySummary(this.competencyId).finally(() => {\r\n            this.fetchCompetency().finally(() => {\r\n                refresher?.complete();\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Opens the summary of a competency.\r\n     *\r\n     * @param competencyId\r\n     */\r\n    openCompetencySummary(competencyId: number): void {\r\n        CoreNavigator.navigateToSitePath(\r\n            '/' + AddonCompetencyMainMenuHandlerService.PAGE_NAME + '/summary/' + competencyId,\r\n            {\r\n                params: { contextLevel: this.contextLevel, contextInstanceId: this.contextInstanceId },\r\n            },\r\n        );\r\n    }\r\n\r\n}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\nimport { AddonCompetencyDataForPlanPageWSResponse, AddonCompetency } from '../../services/competency';\r\nimport { AddonCompetencyHelper } from '../../services/competency-helper';\r\nimport { CoreNavigator } from '@services/navigator';\r\nimport { CoreUserProfile } from '@features/user/services/user';\r\nimport { IonRefresher } from '@ionic/angular';\r\nimport { AddonCompetencyMainMenuHandlerService } from '@addons/competency/services/handlers/mainmenu';\r\n\r\n/**\r\n * Page that displays a learning plan.\r\n */\r\n@Component({\r\n    selector: 'page-addon-competency-plan',\r\n    templateUrl: 'plan.html',\r\n})\r\nexport class AddonCompetencyPlanPage implements OnInit {\r\n\r\n    protected planId!: number;\r\n    loaded = false;\r\n    plan?: AddonCompetencyDataForPlanPageWSResponse;\r\n    user?: CoreUserProfile;\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    ngOnInit(): void {\r\n        this.planId = CoreNavigator.getRouteNumberParam('planId')!;\r\n\r\n        this.fetchLearningPlan().finally(() => {\r\n            this.loaded = true;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fetches the learning plan and updates the view.\r\n     *\r\n     * @return Promise resolved when done.\r\n     */\r\n    protected async fetchLearningPlan(): Promise<void> {\r\n        try {\r\n            const plan = await AddonCompetency.getLearningPlan(this.planId);\r\n            plan.plan.statusname = AddonCompetencyHelper.getPlanStatusName(plan.plan.status);\r\n\r\n            // Get the user profile image.\r\n            this.user = await AddonCompetencyHelper.getProfile(plan.plan.userid);\r\n\r\n            this.plan = plan;\r\n        } catch (error) {\r\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting learning plan data.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Navigates to a particular competency.\r\n     *\r\n     * @param competencyId\r\n     */\r\n    openCompetency(competencyId: number): void {\r\n        CoreNavigator.navigateToSitePath(\r\n            '/' + AddonCompetencyMainMenuHandlerService.PAGE_NAME + '/competencies/' + competencyId,\r\n            { params: { planId: this.planId } },\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Refreshes the learning plan.\r\n     *\r\n     * @param refresher Refresher.\r\n     */\r\n    refreshLearningPlan(refresher: IonRefresher): void {\r\n        AddonCompetency.invalidateLearningPlan(this.planId).finally(() => {\r\n            this.fetchLearningPlan().finally(() => {\r\n                refresher?.complete();\r\n            });\r\n        });\r\n    }\r\n\r\n}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { IonRefresher } from '@ionic/angular';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\nimport { CoreSplitViewComponent } from '@components/split-view/split-view';\r\nimport { AddonCompetencyProvider, AddonCompetencyPlan, AddonCompetency } from '../../services/competency';\r\nimport { AddonCompetencyHelper } from '../../services/competency-helper';\r\nimport { CoreNavigator } from '@services/navigator';\r\nimport { CorePageItemsListManager } from '@classes/page-items-list-manager';\r\n\r\n/**\r\n * Page that displays the list of learning plans.\r\n */\r\n@Component({\r\n    selector: 'page-addon-competency-planlist',\r\n    templateUrl: 'planlist.html',\r\n})\r\nexport class AddonCompetencyPlanListPage implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n    @ViewChild(CoreSplitViewComponent) splitView!: CoreSplitViewComponent;\r\n\r\n    protected userId?: number;\r\n    plans: AddonCompetencyPlanListManager;\r\n\r\n    constructor() {\r\n        this.plans = new AddonCompetencyPlanListManager(AddonCompetencyPlanListPage);\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    ngOnInit(): void {\r\n        this.userId = CoreNavigator.getRouteNumberParam('userId');\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    async ngAfterViewInit(): Promise<void> {\r\n        await this.fetchLearningPlans();\r\n\r\n        this.plans.start(this.splitView);\r\n    }\r\n\r\n    /**\r\n     * Fetches the learning plans and updates the view.\r\n     *\r\n     * @return Promise resolved when done.\r\n     */\r\n    protected async fetchLearningPlans(): Promise<void> {\r\n        try {\r\n            const plans = await AddonCompetency.getLearningPlans(this.userId);\r\n            plans.forEach((plan: AddonCompetencyPlanFormatted) => {\r\n                plan.statusname = AddonCompetencyHelper.getPlanStatusName(plan.status);\r\n                switch (plan.status) {\r\n                    case AddonCompetencyProvider.STATUS_ACTIVE:\r\n                        plan.statuscolor = 'success';\r\n                        break;\r\n                    case AddonCompetencyProvider.STATUS_COMPLETE:\r\n                        plan.statuscolor = 'danger';\r\n                        break;\r\n                    default:\r\n                        plan.statuscolor = 'warning';\r\n                        break;\r\n                }\r\n            });\r\n            this.plans.setItems(plans);\r\n\r\n        } catch (error) {\r\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting learning plans data.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refreshes the learning plans.\r\n     *\r\n     * @param refresher Refresher.\r\n     */\r\n    refreshLearningPlans(refresher: IonRefresher): void {\r\n        AddonCompetency.invalidateLearningPlans(this.userId).finally(() => {\r\n            this.fetchLearningPlans().finally(() => {\r\n                refresher?.complete();\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    ngOnDestroy(): void {\r\n        this.plans.destroy();\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * Competency plan with some calculated data.\r\n */\r\ntype AddonCompetencyPlanFormatted = AddonCompetencyPlan & {\r\n    statuscolor?: string; // Calculated in the app. Color of the plan's status.\r\n};\r\n\r\n/**\r\n * Helper class to manage plan list.\r\n */\r\nclass AddonCompetencyPlanListManager extends CorePageItemsListManager<AddonCompetencyPlanFormatted> {\r\n\r\n    constructor(pageComponent: unknown) {\r\n        super(pageComponent);\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    protected getItemPath(plan: AddonCompetencyPlanFormatted): string {\r\n        return String(plan.id);\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}