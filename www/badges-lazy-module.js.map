{"version":3,"sources":["./src/addons/badges/pages/issued-badge/issued-badge.html","./src/addons/badges/pages/user-badges/user-badges.html","./src/addons/badges/badges-lazy.module.ts","./src/addons/badges/pages/issued-badge/issued-badge.page.ts","./src/addons/badges/pages/user-badges/user-badges.page.ts"],"names":[],"mappings":"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","file":"badges-lazy-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1 *ngIf=\\\"badge\\\">{{ badge.name }}</h1>\\r\\n        <h1 *ngIf=\\\"!badge\\\">{{ 'addon.badges.badges' | translate }}</h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!badgeLoaded\\\" (ionRefresh)=\\\"refreshBadges($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"badgeLoaded\\\">\\r\\n        <ion-item-group *ngIf=\\\"badge\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap ion-text-center\\\">\\r\\n                <ion-label>\\r\\n                    <img *ngIf=\\\"badge.badgeurl\\\" class=\\\"large-avatar\\\" [src]=\\\"badge.badgeurl\\\" core-external-content [alt]=\\\"badge.name\\\" />\\r\\n                    <ion-badge color=\\\"danger\\\" *ngIf=\\\"badge.dateexpire && currentTime >= badge.dateexpire\\\">\\r\\n                        {{ 'addon.badges.expired' | translate }}\\r\\n                    </ion-badge>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n        </ion-item-group>\\r\\n\\r\\n        <ion-item-group *ngIf=\\\"user\\\">\\r\\n            <ion-item-divider>\\r\\n                <ion-label>\\r\\n                    <h2>{{ 'addon.badges.recipientdetails' | translate}}</h2>\\r\\n                </ion-label>\\r\\n            </ion-item-divider>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <h2>{{ 'core.name' | translate}}</h2>\\r\\n                    <p>{{ user.fullname }}</p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n        </ion-item-group>\\r\\n\\r\\n        <ng-container *ngIf=\\\"badge\\\">\\r\\n            <ion-item-group>\\r\\n                <ion-item-divider>\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.issuerdetails' | translate}}</h2>\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.issuername\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.issuername' | translate}}</h2>\\r\\n                        <p>{{ badge.issuername }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.issuercontact\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.contact' | translate}}</h2>\\r\\n                        <p><a href=\\\"mailto:{{badge.issuercontact}}\\\" core-link auto-login=\\\"no\\\"> {{ badge.issuercontact }} </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ion-item-group>\\r\\n\\r\\n            <ion-item-group>\\r\\n                <ion-item-divider>\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.badgedetails' | translate}}</h2>\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.name\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.name' | translate}}</h2>\\r\\n                        <p>{{ badge.name }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.version\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.version' | translate}}</h2>\\r\\n                        <p>{{ badge.version }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.language\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.language' | translate}}</h2>\\r\\n                        <p>{{ badge.language }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.description\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.description' | translate}}</h2>\\r\\n                        <p>{{ badge.description }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.imageauthorname\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.imageauthorname' | translate}}</h2>\\r\\n                        <p>{{ badge.imageauthorname }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.imageauthoremail\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.imageauthoremail' | translate}}</h2>\\r\\n                        <p><a href=\\\"mailto:{{badge.imageauthoremail}}\\\" core-link auto-login=\\\"no\\\"> {{ badge.imageauthoremail }} </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.imageauthorurl\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.imageauthorurl' | translate}}</h2>\\r\\n                        <p><a [href]=\\\"badge.imageauthorurl\\\" core-link auto-login=\\\"no\\\"> {{ badge.imageauthorurl }} </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.imagecaption\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.imagecaption' | translate}}</h2>\\r\\n                        <p>{{ badge.imagecaption }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"course\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.course' | translate}}</h2>\\r\\n                        <p>\\r\\n                            <core-format-text [text]=\\\"course.fullname\\\" contextLevel=\\\"course\\\" [contextInstanceId]=\\\"courseId\\\">\\r\\n                            </core-format-text>\\r\\n                        </p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <!-- Criteria (not yet available) -->\\r\\n            </ion-item-group>\\r\\n\\r\\n            <ion-item-group>\\r\\n                <ion-item-divider>\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.issuancedetails' | translate}}</h2>\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.dateissued\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.dateawarded' | translate}}</h2>\\r\\n                        <p>{{badge.dateissued * 1000 | coreFormatDate }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.dateexpire\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.expirydate' | translate}}</h2>\\r\\n                        <p>\\r\\n                            {{ badge.dateexpire * 1000 | coreFormatDate }}\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"currentTime >= badge.dateexpire\\\">\\r\\n                                {{ 'addon.badges.warnexpired' | translate }}\\r\\n                            </span>\\r\\n                        </p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <!-- Evidence (not yet available) -->\\r\\n            </ion-item-group>\\r\\n\\r\\n            <!-- Endorsement -->\\r\\n            <ion-item-group *ngIf=\\\"badge.endorsement\\\">\\r\\n                <ion-item-divider>\\r\\n                    <ion-label><h2>{{ 'addon.badges.bendorsement' | translate}}</h2></ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.endorsement.issuername\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.issuername' | translate}}</h2>\\r\\n                        <p>{{ badge.endorsement.issuername }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.endorsement.issueremail\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.issueremail' | translate}}</h2>\\r\\n                        <p>\\r\\n                            <a href=\\\"mailto:{{badge.endorsement.issueremail}}\\\" core-link auto-login=\\\"no\\\">\\r\\n                                {{ badge.endorsement.issueremail }}\\r\\n                            </a>\\r\\n                        </p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.endorsement.issuerurl\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.issuerurl' | translate}}</h2>\\r\\n                        <p><a [href]=\\\"badge.endorsement.issuerurl\\\" core-link auto-login=\\\"no\\\"> {{ badge.endorsement.issuerurl }} </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.endorsement.dateissued\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.dateawarded' | translate}}</h2>\\r\\n                        <p>{{ badge.endorsement.dateissued * 1000 | coreFormatDate }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.endorsement.claimid\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.claimid' | translate}}</h2>\\r\\n                        <p><a [href]=\\\"badge.endorsement.claimid\\\" core-link auto-login=\\\"no\\\"> {{ badge.endorsement.claimid }} </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.endorsement.claimcomment\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.badges.claimcomment' | translate}}</h2>\\r\\n                        <p>{{ badge.endorsement.claimcomment }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ion-item-group>\\r\\n\\r\\n            <!-- Related badges -->\\r\\n            <ion-item-group *ngIf=\\\"badge.relatedbadges\\\">\\r\\n                <ion-item-divider>\\r\\n                    <ion-label><h2>{{ 'addon.badges.relatedbages' | translate}}</h2></ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let relatedBadge of badge.relatedbadges\\\">\\r\\n                    <ion-label><h2>{{ relatedBadge.name }}</h2></ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.relatedbadges.length == 0\\\">\\r\\n                    <ion-label><h2>{{ 'addon.badges.norelated' | translate}}</h2></ion-label>\\r\\n                </ion-item>\\r\\n            </ion-item-group>\\r\\n\\r\\n            <!-- Competencies alignment -->\\r\\n            <ion-item-group *ngIf=\\\"badge.alignment\\\">\\r\\n                <ion-item-divider>\\r\\n                    <ion-label><h2>{{ 'addon.badges.alignment' | translate}}</h2></ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let alignment of badge.alignment\\\" [href]=\\\"alignment.targeturl\\\" core-link\\r\\n                    auto-login=\\\"no\\\">\\r\\n                    <ion-label><h2>{{ alignment.targetname }}</h2></ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"badge.alignment.length == 0\\\">\\r\\n                    <ion-label><h2>{{ 'addon.badges.noalignment' | translate}}</h2></ion-label>\\r\\n                </ion-item>\\r\\n            </ion-item-group>\\r\\n        </ng-container>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1>{{ 'addon.badges.badges' | translate }}</h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <core-split-view>\\r\\n        <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!badges.loaded\\\" (ionRefresh)=\\\"refreshBadges($event.target)\\\">\\r\\n            <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n        </ion-refresher>\\r\\n        <core-loading [hideUntil]=\\\"badges.loaded\\\">\\r\\n            <core-empty-box *ngIf=\\\"badges.empty\\\" icon=\\\"fas-trophy\\\"\\r\\n                [message]=\\\"'addon.badges.nobadges' | translate\\\">\\r\\n            </core-empty-box>\\r\\n\\r\\n            <ion-list *ngIf=\\\"!badges.empty\\\" class=\\\"ion-no-margin\\\">\\r\\n                <ion-item button class=\\\"ion-text-wrap\\\" *ngFor=\\\"let badge of badges.items\\\" [attr.aria-label]=\\\"badge.name\\\"\\r\\n                    (click)=\\\"badges.select(badge)\\\" [attr.aria-current]=\\\"badges.getItemAriaCurrent(badge)\\\" detail=\\\"true\\\">\\r\\n                    <ion-avatar slot=\\\"start\\\">\\r\\n                        <img [src]=\\\"badge.badgeurl\\\" [alt]=\\\"badge.name\\\" core-external-content>\\r\\n                    </ion-avatar>\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ badge.name }}</p>\\r\\n                        <p>{{ badge.dateissued * 1000 | coreFormatDate :'strftimedatetimeshort' }}</p>\\r\\n                    </ion-label>\\r\\n                    <ion-badge slot=\\\"end\\\" color=\\\"danger\\\" *ngIf=\\\"badge.dateexpire && currentTime >= badge.dateexpire\\\">\\r\\n                        {{ 'addon.badges.expired' | translate }}\\r\\n                    </ion-badge>\\r\\n                </ion-item>\\r\\n            </ion-list>\\r\\n        </core-loading>\\r\\n    </core-split-view>\\r\\n</ion-content>\\r\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { conditionalRoutes } from '@/app/app-routing.module';\r\nimport { CoreScreen } from '@services/screen';\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\n\r\nimport { AddonBadgesIssuedBadgePage } from './pages/issued-badge/issued-badge.page';\r\nimport { AddonBadgesUserBadgesPage } from './pages/user-badges/user-badges.page';\r\n\r\nconst mobileRoutes: Routes = [\r\n    {\r\n        path: '',\r\n        pathMatch: 'full',\r\n        component: AddonBadgesUserBadgesPage,\r\n    },\r\n    {\r\n        path: ':badgeHash',\r\n        component: AddonBadgesIssuedBadgePage,\r\n    },\r\n];\r\n\r\nconst tabletRoutes: Routes = [\r\n    {\r\n        path: '',\r\n        component: AddonBadgesUserBadgesPage,\r\n        children: [\r\n            {\r\n                path: ':badgeHash',\r\n                component: AddonBadgesIssuedBadgePage,\r\n            },\r\n        ],\r\n    },\r\n];\r\n\r\nconst routes: Routes = [\r\n    ...conditionalRoutes(mobileRoutes, () => CoreScreen.isMobile),\r\n    ...conditionalRoutes(tabletRoutes, () => CoreScreen.isTablet),\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n    ],\r\n    declarations: [\r\n        AddonBadgesUserBadgesPage,\r\n        AddonBadgesIssuedBadgePage,\r\n    ],\r\n})\r\nexport class AddonBadgesLazyModule {}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { IonRefresher } from '@ionic/angular';\r\nimport { CoreTimeUtils } from '@services/utils/time';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\nimport { CoreSites } from '@services/sites';\r\nimport { CoreUser, CoreUserProfile } from '@features/user/services/user';\r\nimport { AddonBadges, AddonBadgesUserBadge } from '../../services/badges';\r\nimport { CoreUtils } from '@services/utils/utils';\r\nimport { CoreCourses, CoreEnrolledCourseData } from '@features/courses/services/courses';\r\nimport { CoreNavigator } from '@services/navigator';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n/**\r\n * Page that displays the list of calendar events.\r\n */\r\n@Component({\r\n    selector: 'page-addon-badges-issued-badge',\r\n    templateUrl: 'issued-badge.html',\r\n})\r\nexport class AddonBadgesIssuedBadgePage implements OnInit {\r\n\r\n    protected badgeHash = '';\r\n    protected userId!: number;\r\n\r\n    courseId = 0;\r\n    user?: CoreUserProfile;\r\n    course?: CoreEnrolledCourseData;\r\n    badge?: AddonBadgesUserBadge;\r\n    badgeLoaded = false;\r\n    currentTime = 0;\r\n\r\n    constructor(\r\n        protected route: ActivatedRoute,\r\n    ) { }\r\n\r\n    /**\r\n     * View loaded.\r\n     */\r\n    ngOnInit(): void {\r\n        this.courseId = CoreNavigator.getRouteNumberParam('courseId') || this.courseId; // Use 0 for site badges.\r\n        this.userId = CoreNavigator.getRouteNumberParam('userId') || CoreSites.getCurrentSite()!.getUserId();\r\n        this.badgeHash = CoreNavigator.getRouteParam('badgeHash') || '';\r\n\r\n        this.fetchIssuedBadge().finally(() => {\r\n            this.badgeLoaded = true;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fetch the issued badge required for the view.\r\n     *\r\n     * @return Promise resolved when done.\r\n     */\r\n    async fetchIssuedBadge(): Promise<void> {\r\n        this.currentTime = CoreTimeUtils.timestamp();\r\n\r\n        this.user = await CoreUser.getProfile(this.userId, this.courseId, true);\r\n\r\n        try {\r\n            const badges = await AddonBadges.getUserBadges(this.courseId, this.userId);\r\n            const badge = badges.find((badge) => this.badgeHash == badge.uniquehash);\r\n\r\n            if (!badge) {\r\n                return;\r\n            }\r\n\r\n            this.badge = badge;\r\n            if (badge.courseid) {\r\n                try {\r\n                    this.course = await CoreCourses.getUserCourse(badge.courseid, true);\r\n                } catch {\r\n                    // Maybe an old deleted course.\r\n                    this.course = undefined;\r\n                }\r\n            }\r\n        } catch (message) {\r\n            CoreDomUtils.showErrorModalDefault(message, 'Error getting badge data.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refresh the badges.\r\n     *\r\n     * @param refresher Refresher.\r\n     */\r\n    async refreshBadges(refresher?: IonRefresher): Promise<void> {\r\n        await CoreUtils.ignoreErrors(Promise.all([\r\n            AddonBadges.invalidateUserBadges(this.courseId, this.userId),\r\n        ]));\r\n\r\n        await CoreUtils.ignoreErrors(Promise.all([\r\n            this.fetchIssuedBadge(),\r\n        ]));\r\n\r\n        refresher?.complete();\r\n    }\r\n\r\n}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { AfterViewInit, Component, OnDestroy, ViewChild } from '@angular/core';\r\nimport { IonRefresher } from '@ionic/angular';\r\nimport { AddonBadges, AddonBadgesUserBadge } from '../../services/badges';\r\nimport { CoreTimeUtils } from '@services/utils/time';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\nimport { CoreSites } from '@services/sites';\r\nimport { CoreUtils } from '@services/utils/utils';\r\nimport { CorePageItemsListManager } from '@classes/page-items-list-manager';\r\nimport { Params } from '@angular/router';\r\nimport { CoreSplitViewComponent } from '@components/split-view/split-view';\r\nimport { CoreNavigator } from '@services/navigator';\r\n\r\n/**\r\n * Page that displays the list of calendar events.\r\n */\r\n@Component({\r\n    selector: 'page-addon-badges-user-badges',\r\n    templateUrl: 'user-badges.html',\r\n})\r\nexport class AddonBadgesUserBadgesPage implements AfterViewInit, OnDestroy {\r\n\r\n    currentTime = 0;\r\n    badges: AddonBadgesUserBadgesManager;\r\n\r\n    @ViewChild(CoreSplitViewComponent) splitView!: CoreSplitViewComponent;\r\n\r\n    constructor() {\r\n        const courseId = CoreNavigator.getRouteNumberParam('courseId') ?? 0; // Use 0 for site badges.\r\n        const userId = CoreNavigator.getRouteNumberParam('userId') ?? CoreSites.getCurrentSiteUserId();\r\n\r\n        this.badges = new AddonBadgesUserBadgesManager(AddonBadgesUserBadgesPage, courseId, userId);\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    async ngAfterViewInit(): Promise<void> {\r\n        await this.fetchInitialBadges();\r\n\r\n        this.badges.start(this.splitView);\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    ngOnDestroy(): void {\r\n        this.badges.destroy();\r\n    }\r\n\r\n    /**\r\n     * Refresh the badges.\r\n     *\r\n     * @param refresher Refresher.\r\n     */\r\n    async refreshBadges(refresher?: IonRefresher): Promise<void> {\r\n        await CoreUtils.ignoreErrors(AddonBadges.invalidateUserBadges(this.badges.courseId, this.badges.userId));\r\n        await CoreUtils.ignoreErrors(this.fetchBadges());\r\n\r\n        refresher?.complete();\r\n    }\r\n\r\n    /**\r\n     * Obtain the initial list of badges.\r\n     */\r\n    private async fetchInitialBadges(): Promise<void> {\r\n        this.currentTime = CoreTimeUtils.timestamp();\r\n\r\n        try {\r\n            await this.fetchBadges();\r\n        } catch (message) {\r\n            CoreDomUtils.showErrorModalDefault(message, 'Error loading badges');\r\n\r\n            this.badges.setItems([]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update the list of badges.\r\n     */\r\n    private async fetchBadges(): Promise<void> {\r\n        const badges = await AddonBadges.getUserBadges(this.badges.courseId, this.badges.userId);\r\n\r\n        this.badges.setItems(badges);\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * Helper class to manage badges.\r\n */\r\nclass AddonBadgesUserBadgesManager extends CorePageItemsListManager<AddonBadgesUserBadge> {\r\n\r\n    courseId: number;\r\n    userId: number;\r\n\r\n    constructor(pageComponent: unknown, courseId: number, userId: number) {\r\n        super(pageComponent);\r\n\r\n        this.courseId = courseId;\r\n        this.userId = userId;\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    protected getItemPath(badge: AddonBadgesUserBadge): string {\r\n        return badge.uniquehash;\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     */\r\n    protected getItemQueryParams(): Params {\r\n        return {\r\n            courseId: this.courseId,\r\n            userId: this.userId,\r\n        };\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}