{"version":3,"sources":["./src/core/features/settings/pages/about/about.html","./src/core/features/user/pages/about/about.html","./src/core/features/settings/pages/about/about.module.ts","./src/core/features/settings/pages/about/about.ts","./src/core/features/user/pages/about/about.module.ts","./src/core/features/user/pages/about/about.page.ts"],"names":[],"mappings":"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","file":"pages-about-about-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1>\\r\\n            {{ 'core.settings.about' | translate}}\\r\\n        </h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n        <ion-label><h2>{{ appName }} {{ versionName }}</h2></ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item button class=\\\"ion-text-wrap\\\" (click)=\\\"openPage('deviceinfo')\\\" detail=\\\"true\\\">\\r\\n        <ion-icon name=\\\"fas-mobile\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n        <ion-label>{{ 'core.settings.deviceinfo' | translate }}</ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item button class=\\\"ion-text-wrap\\\" (click)=\\\"openPage('licenses')\\\" detail=\\\"true\\\">\\r\\n        <ion-icon name=\\\"far-copyright\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n        <ion-label>{{ 'core.settings.opensourcelicenses' | translate }}</ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item\\r\\n        *ngIf=\\\"privacyPolicy\\\"\\r\\n        class=\\\"ion-text-wrap\\\"\\r\\n        button core-link auto-login=\\\"no\\\" [href]=\\\"privacyPolicy\\\"\\r\\n        detail=\\\"true\\\" detailIcon=\\\"open-outline\\\"\\r\\n    >\\r\\n        <ion-icon name=\\\"fas-user-shield\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n        <ion-label>{{ 'core.settings.privacypolicy' | translate }}</ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item\\r\\n        *ngIf=\\\"feedbackFormUrl\\\"\\r\\n        class=\\\"ion-text-wrap\\\"\\r\\n        button core-link [href]=\\\"feedbackFormUrl\\\"\\r\\n        detail=\\\"true\\\" detailIcon=\\\"open-outline\\\"\\r\\n    >\\r\\n        <ion-icon name=\\\"fas-bullhorn\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n        <ion-label>{{ 'core.settings.helpusimprove' | translate }}</ion-label>\\r\\n    </ion-item>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <h1 *ngIf=\\\"title\\\">{{ title }}</h1>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!userLoaded\\\" (ionRefresh)=\\\"refreshUser($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"userLoaded\\\">\\r\\n        <ion-list *ngIf=\\\"user\\\">\\r\\n            <ion-item-group *ngIf=\\\"hasContact\\\">\\r\\n                <ion-item-divider><ion-label><h2>{{ 'core.user.contact' | translate}}</h2></ion-label></ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user.email\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.user.email' | translate }}</h2>\\r\\n                        <p><a class=\\\"core-anchor\\\" href=\\\"mailto:{{user.email}}\\\" core-link auto-login=\\\"no\\\">\\r\\n                            {{ user.email }}\\r\\n                        </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user.phone1\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.user.phone1' | translate}}</h2>\\r\\n                        <p><a class=\\\"core-anchor\\\" href=\\\"tel:{{user.phone1}}\\\" core-link auto-login=\\\"no\\\">\\r\\n                            {{ user.phone1 }}\\r\\n                        </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user.phone2\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.user.phone2' | translate}}</h2>\\r\\n                        <p><a class=\\\"core-anchor\\\" href=\\\"tel:{{user.phone2}}\\\" core-link auto-login=\\\"no\\\">\\r\\n                            {{ user.phone2 }}\\r\\n                        </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"formattedAddress\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.user.address' | translate}}</h2>\\r\\n                        <p><a class=\\\"core-anchor\\\" [href]=\\\"encodedAddress\\\" core-link auto-login=\\\"no\\\">\\r\\n                            {{ formattedAddress }}\\r\\n                        </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user.city && !formattedAddress\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.user.city' | translate}}</h2>\\r\\n                        <p>{{ user.city }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user.country && !formattedAddress\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.user.country' | translate}}</h2>\\r\\n                        <p>{{ user.country }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ion-item-group>\\r\\n            <ion-item-group *ngIf=\\\"hasDetails\\\">\\r\\n                <ion-item-divider><ion-label><h2>{{ 'core.userdetails' | translate}}</h2></ion-label></ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user.url\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.user.webpage' | translate}}</h2>\\r\\n                        <p><a class=\\\"core-anchor\\\" href=\\\"{{user.url}}\\\" core-link>\\r\\n                            {{ user.url }}\\r\\n                        </a></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user.interests\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.user.interests' | translate}}</h2>\\r\\n                        <p>{{ user.interests }}</p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <core-user-profile-field *ngFor=\\\"let field of user.customfields\\\" [field]=\\\"field\\\" contextLevel=\\\"course\\\"\\r\\n                    [contextInstanceId]=\\\"courseId\\\" [courseId]=\\\"courseId\\\">\\r\\n                </core-user-profile-field>\\r\\n            </ion-item-group>\\r\\n            <ion-item-group *ngIf=\\\"user.description\\\">\\r\\n                <ion-item-divider><ion-label><h2>{{ 'core.user.description' | translate}}</h2></ion-label></ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>\\r\\n                        <p><core-format-text [text]=\\\"user.description\\\" contextLevel=\\\"user\\\" [contextInstanceId]=\\\"user.id\\\">\\r\\n                        </core-format-text></p>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ion-item-group>\\r\\n        </ion-list>\\r\\n\\r\\n        <core-empty-box *ngIf=\\\"!user || (!hasContact && !hasDetails && !user.description)\\\" icon=\\\"fas-user\\\"\\r\\n            [message]=\\\" 'core.user.detailsnotavailable' | translate\\\">\\r\\n        </core-empty-box>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\nimport { CoreSettingsAboutPage } from './about';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: CoreSettingsAboutPage,\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n    ],\r\n    declarations: [\r\n        CoreSettingsAboutPage,\r\n    ],\r\n    exports: [RouterModule],\r\n})\r\nexport class CoreSettingsAboutPageModule {}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { Component } from '@angular/core';\r\n\r\nimport { CoreConstants } from '@/core/constants';\r\nimport { CoreSites } from '@services/sites';\r\nimport { CoreNavigator } from '@services/navigator';\r\n\r\n/**\r\n * App settings about menu page.\r\n */\r\n@Component({\r\n    selector: 'page-core-app-settings-about',\r\n    templateUrl: 'about.html',\r\n})\r\nexport class CoreSettingsAboutPage {\r\n\r\n    appName: string;\r\n    versionName: string;\r\n    privacyPolicy: string;\r\n    feedbackFormUrl = CoreConstants.CONFIG.feedbackFormUrl ?? 'https://feedback.moodle.org/mobileapp';\r\n\r\n    constructor() {\r\n        const currentSite = CoreSites.getCurrentSite();\r\n\r\n        this.appName = CoreConstants.CONFIG.appname;\r\n        this.versionName = CoreConstants.CONFIG.versionname;\r\n\r\n        // Calculate the privacy policy to use.\r\n        this.privacyPolicy = (currentSite && (currentSite.getStoredConfig('tool_mobile_apppolicy') ||\r\n        currentSite.getStoredConfig('sitepolicy'))) || CoreConstants.CONFIG.privacypolicy;\r\n    }\r\n\r\n    /**\r\n     * Opens a page.\r\n     *\r\n     * @param page The component deeplink name you want to push onto the navigation stack.\r\n     */\r\n    openPage(page: string): void {\r\n        // const navCtrl = this.svComponent ? this.svComponent.getMasterNav() : this.navCtrl;\r\n        // navCtrl.push(page);\r\n        CoreNavigator.navigate(page);\r\n    }\r\n\r\n}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\nimport { CoreUserComponentsModule } from '@features/user/components/components.module';\r\n\r\nimport { CoreUserAboutPage } from './about.page';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: CoreUserAboutPage,\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n        CoreUserComponentsModule,\r\n    ],\r\n    declarations: [\r\n        CoreUserAboutPage,\r\n    ],\r\n    exports: [RouterModule],\r\n})\r\nexport class CoreUserAboutPageModule {}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { SafeUrl } from '@angular/platform-browser';\r\nimport { IonRefresher } from '@ionic/angular';\r\n\r\nimport { CoreSites } from '@services/sites';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\nimport { CoreTextUtils } from '@services/utils/text';\r\nimport { CoreUtils } from '@services/utils/utils';\r\nimport { CoreEvents } from '@singletons/events';\r\nimport { CoreUser, CoreUserProfile, CoreUserProvider } from '@features/user/services/user';\r\nimport { CoreUserHelper } from '@features/user/services/user-helper';\r\nimport { CoreNavigator } from '@services/navigator';\r\n\r\n/**\r\n * Page that displays info about a user.\r\n */\r\n@Component({\r\n    selector: 'page-core-user-about',\r\n    templateUrl: 'about.html',\r\n})\r\nexport class CoreUserAboutPage implements OnInit {\r\n\r\n    protected userId!: number;\r\n    protected siteId: string;\r\n\r\n    courseId!: number;\r\n    userLoaded = false;\r\n    hasContact = false;\r\n    hasDetails = false;\r\n    user?: CoreUserProfile;\r\n    title?: string;\r\n    formattedAddress?: string;\r\n    encodedAddress?: SafeUrl;\r\n\r\n    constructor() {\r\n        this.siteId = CoreSites.getCurrentSiteId();\r\n    }\r\n\r\n    /**\r\n     * On init.\r\n     *\r\n     * @return Promise resolved when done.\r\n     */\r\n    async ngOnInit(): Promise<void> {\r\n        this.userId = CoreNavigator.getRouteNumberParam('userId') || 0;\r\n        this.courseId = CoreNavigator.getRouteNumberParam('courseId') || 0;\r\n\r\n        this.fetchUser().finally(() => {\r\n            this.userLoaded = true;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fetches the user data.\r\n     *\r\n     * @return Promise resolved when done.\r\n     */\r\n    async fetchUser(): Promise<void> {\r\n        try {\r\n            const user = await CoreUser.getProfile(this.userId, this.courseId);\r\n\r\n            if (user.address) {\r\n                this.formattedAddress = CoreUserHelper.formatAddress(user.address, user.city, user.country);\r\n                this.encodedAddress = CoreTextUtils.buildAddressURL(this.formattedAddress);\r\n            }\r\n\r\n            this.hasContact = !!(user.email || user.phone1 || user.phone2 || user.city || user.country || user.address);\r\n            this.hasDetails = !!(user.url || user.interests || (user.customfields && user.customfields.length > 0));\r\n\r\n            this.user = user;\r\n            this.title = user.fullname;\r\n        } catch (error) {\r\n            CoreDomUtils.showErrorModalDefault(error, 'core.user.errorloaduser', true);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refresh the user data.\r\n     *\r\n     * @param event Event.\r\n     * @return Promise resolved when done.\r\n     */\r\n    async refreshUser(event?: IonRefresher): Promise<void> {\r\n        await CoreUtils.ignoreErrors(CoreUser.invalidateUserCache(this.userId));\r\n\r\n        await this.fetchUser();\r\n\r\n        event?.complete();\r\n\r\n        if (this.user) {\r\n            CoreEvents.trigger(CoreUserProvider.PROFILE_REFRESHED, {\r\n                courseId: this.courseId,\r\n                userId: this.userId,\r\n                user: this.user,\r\n            }, this.siteId);\r\n        }\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}